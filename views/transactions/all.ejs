<%- include('../partials/header.ejs') %>

<main class="container">
  <h2>All Transactions</h2>

  <% if (transactions.length === 0) { %>
    <div class="alert">No transactions available!</div>
  <% } else { %>
    <table>
      <thead>
        <tr>
          <th>Car</th>
          <th>Buyer</th>
          <th>Seller</th>
          <th>Date</th>
          <th>Price</th>
          <th>Location</th>
        </tr>
      </thead>
      <tbody>
        <% transactions.forEach(transaction => { %>
          <tr>
            <td><%= transaction.car.brand %> <%= transaction.car.model %></td>
            <td><%= transaction.buyer.name %></td>
            <td><%= transaction.seller.name %></td>
            <td><%= new Date(transaction.date).toLocaleDateString() %></td>
            <td>$<%= transaction.price.toFixed(2) %></td>
            <td><%= transaction.location %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</main>
